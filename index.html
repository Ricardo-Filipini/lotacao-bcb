<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guia do Novo Servidor - BCB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Slate and Cyan -->
    <!-- Application Structure Plan: A solicitação do usuário pede um panorama de unidades do BCB para novos servidores. A estrutura da SPA foi desenhada como um "Explorador de Departamentos" interativo. A arquitetura é centrada em tarefas: 1) Uma "Visão Geral" (com um gráfico de distribuição de pessoal) e 2) "Exploração por Diretoria" (usando abas como filtros). Clicar em uma aba de diretoria filtra uma grade de "cards" de departamentos. Cada card é expansível ("Ver Mais") para mostrar detalhes (dia-a-dia, funções, subunidades), permitindo ao usuário "dar um drill-down" na informação que lhe interessa sem se sobrecarregar. Esta abordagem de "visão geral primeiro, detalhes sob demanda" é ideal para a jornada de um novo servidor que precisa entender a organização. -->
    <!-- Visualization & Content Choices: 1. (Info: Contagem (fictícia) de colaboradores por depto. | Goal: Comparar/Informar | Viz: Gráfico de Barras (Chart.js/Canvas) | Interaction: Visualização estática na aba "Visão Geral" | Justification: Fornece um panorama rápido da alocação de pessoal. | Method: Chart.js). 2. (Info: Estrutura organizacional - Diretorias > Deptos > Subunidades | Goal: Organizar/Explorar | Viz: Abas de Filtro (HTML/Tailwind) + Grade de Cards Expansíveis (HTML/Tailwind/JS) | Interaction: Clicar na aba filtra a grade; Clicar no card expande detalhes. | Justification: Traduz a hierarquia em uma navegação interativa e filtrável, muito mais usável que uma lista estática. | Method: HTML/JS). 3. (Info: Dia-a-dia, Funções | Goal: Informar | Viz: Blocos de texto dinâmicos | Interaction: Exibidos ao expandir o card | Justification: Fornece detalhes contextuais sob demanda. | Method: JS show/hide). -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        
        body {
            font-family: 'Inter', sans-serif;
        }

        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 50vh;
            max-height: 500px;
        }

        @media (max-width: 768px) {
            .chart-container {
                height: 60vh;
                max-height: 450px;
            }
        }

        .tab-button {
            transition: all 0.3s ease;
        }

        .tab-button.active {
            border-color: #06b6d4;
            background-color: #06b6d4;
            color: #ffffff;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
        }

        .tab-button:not(.active):hover {
            border-color: #a5f3fc;
            background-color: #ecfeff;
        }

        .dept-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .dept-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }

        .details-content {
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }

        .details-content.open {
            max-height: 1000px;
            opacity: 1;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-900 leading-relaxed">

    <div class="container mx-auto p-4 py-8 md:p-8">
        
        <header class="text-center mb-10">
            <h1 class="text-3xl md:text-4xl font-bold text-cyan-800 mb-2">
                Guia do Novo Servidor: Explorador de Áreas
            </h1>
            <p class="text-lg text-slate-600">
                Uma visão interativa (e ilustrativa) dos departamentos do Banco Central do Brasil.
            </p>
            <p class="text-base text-red-600 font-semibold mt-4 p-3 bg-red-100 border border-red-300 rounded-lg max-w-3xl mx-auto">
                ATENÇÃO: Todos os dados nesta página (quantidades, subunidades, dia-a-dia) são <strong class="font-bold">ILUSTRATIVOS</strong> e <strong class="font-bold">FICTÍCIOS</strong>, criados apenas para demonstrar esta aplicação. A estrutura real do BCB pode diferir.
            </p>
        </header>

        <nav class="mb-8">
            <h2 class="text-xl font-semibold text-slate-700 mb-3 text-center sm:text-left">Filtrar por Grande Área:</h2>
            <div id="tabs-container" class="flex flex-wrap justify-center sm:justify-start gap-2">
            </div>
        </nav>

        <main id="content-area" class="w-full">
        </main>

    </div>

    <footer class="text-center p-6 mt-12 bg-slate-200 text-slate-600 text-sm">
        <p>&copy; 2025 Aplicação Demonstrativa. Não representa dados oficiais do Banco Central do Brasil.</p>
    </footer>

    <script>
        let colaboradoresChartInstance = null;
        
        const appData = {
            diretorias: [
                { id: 'geral', nome: 'Visão Geral' },
                { id: 'pol_mon', nome: 'Política Monetária' },
                { id: 'supervisao', nome: 'Supervisão (Fiscalização)' },
                { id: 'regulacao', nome: 'Regulação e Inovação' },
                { id: 'admin', nome: 'Administração e TI' }
            ],
            departamentos: [
                { 
                    id: 'demab', 
                    nome: 'Departamento de Operações de Mercado Aberto (Demab)', 
                    diretoria: 'pol_mon', 
                    colab: 110, 
                    dia_a_dia: 'Execução de leilões (operações de "open market") para controlar a taxa Selic. Monitoramento da liquidez bancária em tempo real e gerenciamento das operações de redesconto.',
                    funcoes: 'Analista de Mercado Aberto, Operador de Mercado, Economista Sênior.',
                    subunidades: 'Gerência de Operações da Dívida Pública (Gedip), Gerência de Monitoramento de Liquidez (Gemol).'
                },
                { 
                    id: 'depec', 
                    nome: 'Departamento de Estudos e Pesquisas (Depec)', 
                    diretoria: 'pol_mon', 
                    colab: 85, 
                    dia_a_dia: 'Modelagem macroeconômica para projeção da inflação e PIB. Elaboração de seções técnicas do Relatório de Inflação (RI) e atas do Copom. Pesquisa acadêmica em economia monetária.',
                    funcoes: 'Economista-Pesquisador, Analista de Modelagem, Cientista de Dados.',
                    subunidades: 'Gerência de Modelagem Macroeconômica (Gemac), Gerência de Pesquisa Econômica (Gepec).'
                },
                { 
                    id: 'desup', 
                    nome: 'Departamento de Supervisão Bancária (Desup)', 
                    diretoria: 'supervisao', 
                    colab: 160, 
                    dia_a_dia: 'Supervisão "off-site" (análise de dados e relatórios) e "on-site" (inspeções) dos maiores conglomerados bancários (S1 e S2). Análise de risco de crédito, liquidez e operacional.',
                    funcoes: 'Supervisor de Campo (Inspetor), Analista de Supervisão Prudencial.',
                    subunidades: 'Divisão de Supervisão de Bancos S1 (Disb1), Divisão de Supervisão de Risco de Crédito (Disuc).'
                },
                { 
                    id: 'desuc', 
                    nome: 'Departamento de Supervisão de Conduta (Desuc)', 
                    diretoria: 'supervisao', 
                    colab: 90, 
                    dia_a_dia: 'Análise de reclamações de clientes bancários registradas no BCB. Fiscalização do cumprimento das normas de transparência, tarifas e suitability. Ações de educação financeira.',
                    funcoes: 'Analista de Conduta, Analista de Reclamações.',
                    subunidades: 'Gerência de Análise de Reclamações (Gerel), Gerência de Fomento à Cidadania Financeira (Gecif).'
                },
                { 
                    id: 'denor', 
                    nome: 'Departamento de Regulação do Sistema Financeiro (Denor)', 
                    diretoria: 'regulacao', 
                    colab: 100, 
                    dia_a_dia: 'Redação de normas (Resoluções, Circulares) sobre o SFN. Definição de regras prudenciais (ex: Basileia III), de câmbio e de novos modelos de negócio (ex: Fintechs).',
                    funcoes: 'Especialista em Regulação, Advogado (parecerista), Analista Normativo.',
                    subunidades: 'Divisão de Normas Prudenciais (Dinop), Divisão de Regulação de Câmbio (Direc).'
                },
                { 
                    id: 'deinf', 
                    nome: 'Departamento de Tecnologia da Informação (Deinf)', 
                    diretoria: 'admin', 
                    colab: 220, 
                    dia_a_dia: 'Desenvolvimento e manutenção dos principais sistemas do BCB (ex: STR, Pix). Gerenciamento de infraestrutura de TI, data centers e segurança da informação (cybersecurity).',
                    funcoes: 'Desenvolvedor(a) de Software, Arquiteto(a) de Soluções, Especialista em Infra/Redes, Analista de Segurança.',
                    subunidades: 'Divisão de Desenvolvimento do Pix (Dipix), Divisão de Operações de TI (Diopt), Divisão de Segurança Cibernética (Disec).'
                },
                { 
                    id: 'deati', 
                    nome: 'Departamento de Inovação (Deati)', 
                    diretoria: 'regulacao', 
                    colab: 60, 
                    dia_a_dia: 'Condução da agenda BC# (Open Finance, Pix, Moeda Digital). Gestão do LIFT (Laboratório de Inovações Financeiras). Prospecção de novas tecnologias (IA, DLT/Blockchain).',
                    funcoes: 'Especialista em Inovação, Analista de Open Finance, Coordenador de Projetos de IA.',
                    subunidades: 'Gerência de Fomento à Inovação (Gefoi), Gerência de Projetos Especiais (Gepre).'
                },
                { 
                    id: 'deges', 
                    nome: 'Departamento de Gestão de Pessoas (Deges)', 
                    diretoria: 'admin', 
                    colab: 75, 
                    dia_a_dia: 'Processos de recrutamento e seleção (concursos), gestão de carreira e desempenho, folha de pagamento, programas de treinamento e desenvolvimento (Universidade BCB).',
                    funcoes: 'Analista de RH, Especialista em T&D, Analista de Folha de Pagamento.',
                    subunidades: 'Gerência de Desenvolvimento (Gedes), Gerência de Administração de Pessoal (Geape).'
                }
            ]
        };

        document.addEventListener('DOMContentLoaded', () => {
            init();
        });

        function init() {
            renderTabs();
            renderOverview();
            
            const firstTab = document.querySelector('.tab-button');
            if(firstTab) {
                firstTab.classList.add('active');
            }
        }

        function renderTabs() {
            const tabsContainer = document.getElementById('tabs-container');
            tabsContainer.innerHTML = '';
            appData.diretorias.forEach(dir => {
                const button = document.createElement('button');
                button.className = 'tab-button py-2 px-4 rounded-full border-2 border-slate-300 bg-white text-slate-700 font-medium text-sm md:text-base';
                button.textContent = dir.nome;
                button.setAttribute('data-filter', dir.id);
                button.addEventListener('click', () => handleTabClick(dir.id));
                tabsContainer.appendChild(button);
            });
        }

        function handleTabClick(filterId) {
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
                if (btn.getAttribute('data-filter') === filterId) {
                    btn.classList.add('active');
                }
            });

            if (filterId === 'geral') {
                renderOverview();
            } else {
                renderDepartments(filterId);
            }
        }

        function wrapText(text, maxWidth) {
            const words = text.split(' ');
            const lines = [];
            let currentLine = words[0];

            for (let i = 1; i < words.length; i++) {
                if ((currentLine + ' ' + words[i]).length > maxWidth) {
                    lines.push(currentLine);
                    currentLine = words[i];
                } else {
                    currentLine += ' ' + words[i];
                }
            }
            lines.push(currentLine);
            return lines;
        }
        
        function renderOverview() {
            const contentArea = document.getElementById('content-area');
            contentArea.innerHTML = `
                <div class="bg-white p-6 rounded-xl shadow-lg">
                    <h2 class="text-2xl font-bold text-cyan-800 mb-4 text-center">
                        Distribuição de Colaboradores (Dados Ilustrativos)
                    </h2>
                    <p class="text-center text-slate-600 mb-6 max-w-2xl mx-auto">
                        Este gráfico de barras mostra a alocação (fictícia) de servidores por departamento. Isso ajuda a entender a dimensão de cada área e onde o "capital humano" está concentrado, seja em áreas de supervisão intensiva, tecnologia ou pesquisa econômica.
                    </p>
                    <div class="chart-container">
                        <canvas id="colaboradoresChart"></canvas>
                    </div>
                </div>
            `;
            initChart(appData.departamentos);
        }

        function initChart(data) {
            const ctx = document.getElementById('colaboradoresChart').getContext('2d');
            
            if (colaboradoresChartInstance) {
                colaboradoresChartInstance.destroy();
            }
            
            const labels = data.map(d => d.nome);
            const values = data.map(d => d.colab);

            colaboradoresChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Nº de Colaboradores (Ilustrativo)',
                        data: values,
                        backgroundColor: '#06b6d4',
                        borderColor: '#0891b2',
                        borderWidth: 1,
                        borderRadius: 4,
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: '#e2e8f0'
                            },
                            ticks: {
                                color: '#334155'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#334155',
                                autoSkip: false,
                                maxRotation: 90,
                                minRotation: 70,
                                callback: function(value) {
                                    const label = this.getLabelForValue(value);
                                    if (label.length > 25) {
                                        return label.substring(0, 25) + '...';
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            backgroundColor: '#0f172a',
                            titleFont: { size: 14, weight: 'bold' },
                            bodyFont: { size: 12 },
                            padding: 12,
                            cornerRadius: 6,
                            callbacks: {
                                title: function(tooltipItems) {
                                    const label = tooltipItems[0].label;
                                    return wrapText(label, 40);
                                },
                                label: function(context) {
                                    return ` Colaboradores: ${context.parsed.y}`;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        function renderDepartments(filterId) {
            const contentArea = document.getElementById('content-area');
            const filteredDepts = appData.departamentos.filter(d => d.diretoria === filterId);
            
            if (filteredDepts.length === 0) {
                contentArea.innerHTML = '<p class="text-center text-slate-500">Nenhum departamento encontrado para esta área.</p>';
                return;
            }

            const intro = appData.diretorias.find(d => d.id === filterId);
            let introHtml = `
                <div class="mb-8 p-5 bg-white rounded-lg shadow">
                    <h2 class="text-2xl font-bold text-cyan-800 mb-2">
                        Explorando: ${intro ? intro.nome : ''}
                    </h2>
                    <p class="text-slate-600">
                        Abaixo estão os principais departamentos (fictícios) ligados a esta diretoria. Clique em "Ver Mais" para expandir os detalhes sobre o cotidiano, as funções típicas e as subunidades de cada um.
                    </p>
                </div>
            `;
            
            const gridHtml = filteredDepts.map(dept => createDeptCard(dept)).join('');
            contentArea.innerHTML = introHtml + `<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">` + gridHtml + `</div>`;
        
            addCardToggleListeners();
        }

        function createDeptCard(dept) {
            const detailsId = `details-${dept.id}`;
            return `
                <div class="dept-card flex flex-col bg-white rounded-xl shadow-lg overflow-hidden border border-slate-200">
                    <div class="p-5 flex-grow">
                        <h3 class="text-lg font-bold text-cyan-900 mb-2">${dept.nome}</h3>
                        <p class="text-sm text-slate-600 mb-3">
                            <span class="font-semibold">Colaboradores (aprox.):</span> 
                            <span class="text-cyan-700 font-bold">${dept.colab}</span>
                        </p>
                        <p class="text-sm text-slate-600 line-clamp-3">
                            <span class="font-semibold">Dia a Dia:</span> ${dept.dia_a_dia}
                        </p>
                    </div>
                    
                    <div class="details-content" id="${detailsId}">
                        <div class="p-5 border-t border-slate-200 bg-slate-50">
                            <h4 class="font-semibold text-slate-700 mb-2">Funções Típicas:</h4>
                            <p class="text-sm text-slate-600 mb-4">${dept.funcoes}</p>
                            
                            <h4 class="font-semibold text-slate-700 mb-2">Principais Subunidades (Exemplos):</h4>
                            <p class="text-sm text-slate-600">${dept.subunidades}</p>
                        </div>
                    </div>
                    
                    <div class="p-4 bg-gray-50 border-t border-slate-200 text-right">
                        <button 
                            class="toggle-details-btn text-sm font-medium text-cyan-700 hover:text-cyan-900"
                            data-target-id="${detailsId}">
                            Ver Mais <span>&darr;</span>
                        </button>
                    </div>
                </div>
            `;
        }

        function addCardToggleListeners() {
            document.querySelectorAll('.toggle-details-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.getAttribute('data-target-id');
                    const targetContent = document.getElementById(targetId);
                    
                    if (targetContent) {
                        const isOpen = targetContent.classList.toggle('open');
                        button.querySelector('span').innerHTML = isOpen ? '&uarr;' : '&darr;';
                        button.childNodes[0].nodeValue = isOpen ? 'Ver Menos ' : 'Ver Mais ';
                    }
                });
            });
        }
    </script>

</body>
</html>
